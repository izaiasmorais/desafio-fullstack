/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from "@kubb/plugin-client/clients/axios";
import type {
	GetApiWebhooksQueryResponse,
	GetApiWebhooksQueryParams,
} from "../types/GetApiWebhooks";
import type {
	RequestConfig,
	ResponseErrorConfig,
} from "@kubb/plugin-client/clients/axios";
import type {
	QueryKey,
	QueryClient,
	QueryObserverOptions,
	UseQueryResult,
} from "@tanstack/react-query";
import { getApiWebhooks } from "../axios/getApiWebhooks";
import { queryOptions, useQuery } from "@tanstack/react-query";

export const getApiWebhooksQueryKey = (params?: GetApiWebhooksQueryParams) =>
	[{ url: "/api/webhooks" }, ...(params ? [params] : [])] as const;

export type GetApiWebhooksQueryKey = ReturnType<typeof getApiWebhooksQueryKey>;

export function getApiWebhooksQueryOptions(
	params?: GetApiWebhooksQueryParams,
	config: Partial<RequestConfig> & { client?: typeof fetch } = {},
) {
	const queryKey = getApiWebhooksQueryKey(params);
	return queryOptions<
		GetApiWebhooksQueryResponse,
		ResponseErrorConfig<Error>,
		GetApiWebhooksQueryResponse,
		typeof queryKey
	>({
		queryKey,
		queryFn: async ({ signal }) => {
			config.signal = signal;
			return getApiWebhooks(params, config);
		},
	});
}

/**
 * @summary List all webhooks
 * {@link /api/webhooks}
 */
export function useGetApiWebhooks<
	TData = GetApiWebhooksQueryResponse,
	TQueryData = GetApiWebhooksQueryResponse,
	TQueryKey extends QueryKey = GetApiWebhooksQueryKey,
>(
	params?: GetApiWebhooksQueryParams,
	options: {
		query?: Partial<
			QueryObserverOptions<
				GetApiWebhooksQueryResponse,
				ResponseErrorConfig<Error>,
				TData,
				TQueryData,
				TQueryKey
			>
		> & { client?: QueryClient };
		client?: Partial<RequestConfig> & { client?: typeof fetch };
	} = {},
) {
	const { query: queryConfig = {}, client: config = {} } = options ?? {};
	const { client: queryClient, ...queryOptions } = queryConfig;
	const queryKey = queryOptions?.queryKey ?? getApiWebhooksQueryKey(params);

	const query = useQuery(
		{
			...getApiWebhooksQueryOptions(params, config),
			queryKey,
			...queryOptions,
		} as unknown as QueryObserverOptions,
		queryClient,
	) as UseQueryResult<TData, ResponseErrorConfig<Error>> & {
		queryKey: TQueryKey;
	};

	query.queryKey = queryKey as TQueryKey;

	return query;
}
